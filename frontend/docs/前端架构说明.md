# ğŸ¨ æ¸¥å¤ªåç”Ÿæˆå¼AIç ”ç©¶åŠ©æ‰‹ - å‰ç«¯æ¶æ„è¯´æ˜

## ğŸ“Š å‰ç«¯æ¶æ„æ¦‚è§ˆ

æœ¬å‰ç«¯åº”ç”¨é‡‡ç”¨ç°ä»£Reactæ¶æ„ï¼Œç»“åˆTypeScriptæä¾›ç±»å‹å®‰å…¨ï¼Œæ”¯æŒè‹±æ³•åŒè¯­ï¼Œéµå¾ªWCAG 2.1æ— éšœç¢æ ‡å‡†ã€‚æ¶æ„è®¾è®¡æ³¨é‡ç»„ä»¶å¤ç”¨ã€çŠ¶æ€ç®¡ç†å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (React Components)                 â”‚
â”‚                    - é¡µé¢ç»„ä»¶ (Pages)                           â”‚
â”‚                    - é€šç”¨ç»„ä»¶ (Components)                      â”‚
â”‚                    - æ ·å¼ç³»ç»Ÿ (CSS Modules)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ Props & Events
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çŠ¶æ€ç®¡ç†å±‚ (Context API)                     â”‚
â”‚                    - è¯­è¨€ä¸Šä¸‹æ–‡ (LanguageContext)               â”‚
â”‚                    - ä¸»é¢˜ä¸Šä¸‹æ–‡ (ThemeContext)                  â”‚
â”‚                    - ç”¨æˆ·çŠ¶æ€ç®¡ç†                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ State Updates
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœåŠ¡å±‚ (Services)                           â”‚
â”‚                    - APIæœåŠ¡ (api.ts)                          â”‚
â”‚                    - æ··åˆAPI (hybridApi.ts)                    â”‚
â”‚                    - æ•°æ®è½¬æ¢å¤„ç†                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP Requests
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åç«¯æ¥å£å±‚ (FastAPI)                        â”‚
â”‚                    - RESTful APIç«¯ç‚¹                           â”‚
â”‚                    - Mockæ•°æ®æ¥å£                              â”‚
â”‚                    - å®æ—¶é€šä¿¡æ”¯æŒ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ å‰ç«¯ç›®å½•ç»“æ„è¯¦è§£

```
frontend/
â”œâ”€â”€ public/               # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ index.html       # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ favicon.ico      # ç½‘ç«™å›¾æ ‡
â”‚   â””â”€â”€ manifest.json    # PWAé…ç½®
â”œâ”€â”€ src/                 # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx          # å¯¼èˆªæ ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Navbar.css          # å¯¼èˆªæ æ ·å¼
â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx        # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ ChatPage.tsx        # èŠå¤©é¡µé¢
â”‚   â”‚   â”œâ”€â”€ DocumentUploadPage.tsx  # æ–‡æ¡£ä¸Šä¼ é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ReportPage.tsx      # æŠ¥å‘Šé¡µé¢
â”‚   â”‚   â”œâ”€â”€ SettingsPage.tsx    # è®¾ç½®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ MockDataManagePage.tsx  # Mockæ•°æ®ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ *.css              # å¯¹åº”çš„æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ services/       # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api.ts             # æ ‡å‡†APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ hybridApi.ts       # æ··åˆAPIæœåŠ¡
â”‚   â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ mock/           # Mockæ•°æ®
â”‚   â”œâ”€â”€ App.tsx         # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ App.css         # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.tsx       # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css       # åŸºç¡€æ ·å¼
â”œâ”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ package.json        # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json       # TypeScripté…ç½®
â”œâ”€â”€ Dockerfile         # Dockeré…ç½®
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜
```

## âš›ï¸ Reactç»„ä»¶æ¶æ„

### 1. é¡µé¢ç»„ä»¶ (Pages)
é¡µé¢ç»„ä»¶è´Ÿè´£æ•´ä¸ªé¡µé¢çš„å¸ƒå±€å’Œä¸»è¦åŠŸèƒ½å®ç°ï¼š

#### HomePage - é¦–é¡µ
```typescript
// é¦–é¡µå±•ç¤ºç³»ç»Ÿä»‹ç»å’Œå¿«é€Ÿå…¥å£
const HomePage: React.FC = () => {
  const { t } = useLanguage();
  
  return (
    <div className="home-container">
      <WelcomeSection />
      <FeatureCards />
      <QuickActions />
    </div>
  );
};
```

#### ChatPage - èŠå¤©é¡µé¢
```typescript
// æ ¸å¿ƒèŠå¤©äº¤äº’åŠŸèƒ½
const ChatPage: React.FC = () => {
  const [messages, setMessages] = useState<Message[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  
  const handleSendMessage = async (content: string) => {
    // å‘é€æ¶ˆæ¯é€»è¾‘
    const response = await hybridApi.sendMessage(content);
    setMessages(prev => [...prev, response]);
  };
  
  return (
    <div className="chat-container">
      <MessageList messages={messages} />
      <MessageInput onSend={handleSendMessage} disabled={isLoading} />
    </div>
  );
};
```

#### DocumentUploadPage - æ–‡æ¡£ä¸Šä¼ é¡µé¢
```typescript
// æ–‡æ¡£ä¸Šä¼ å’Œç®¡ç†åŠŸèƒ½
const DocumentUploadPage: React.FC = () => {
  const [documents, setDocuments] = useState<Document[]>([]);
  const [uploadProgress, setUploadProgress] = useState<number>(0);
  
  const handleFileUpload = async (files: FileList) => {
    // æ–‡ä»¶ä¸Šä¼ é€»è¾‘
    for (const file of files) {
      await api.uploadDocument(file, {
        onProgress: setUploadProgress
      });
    }
    refreshDocuments();
  };
  
  return (
    <div className="upload-container">
      <DropZone onDrop={handleFileUpload} />
      <DocumentList documents={documents} />
    </div>
  );
};
```

### 2. é€šç”¨ç»„ä»¶ (Components)

#### Navbar - å¯¼èˆªæ 
```typescript
// å“åº”å¼å¯¼èˆªæ ç»„ä»¶
const Navbar: React.FC = () => {
  const { language, setLanguage, t } = useLanguage();
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  
  return (
    <nav className="navbar" role="navigation" aria-label="ä¸»å¯¼èˆª">
      <div className="navbar-brand">
        <Link to="/" aria-label={t('nav.home')}>
          <img src="/logo.svg" alt="Ottawa Logo" />
        </Link>
      </div>
      
      <div className="navbar-menu">
        <NavigationLinks />
        <LanguageToggle 
          current={language} 
          onChange={setLanguage}
        />
      </div>
    </nav>
  );
};
```

## ğŸŒ å›½é™…åŒ–æ¶æ„ (i18n)

### è¯­è¨€ä¸Šä¸‹æ–‡ç®¡ç†
```typescript
// è¯­è¨€ä¸Šä¸‹æ–‡å®šä¹‰
interface LanguageContextType {
  language: 'en' | 'fr';
  setLanguage: (lang: 'en' | 'fr') => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// ç¿»è¯‘æ•°æ®ç»“æ„
const translations = {
  en: {
    'app.title': 'Ottawa GenAI Research Assistant',
    'nav.home': 'Home',
    'nav.chat': 'Chat',
    'features.qa.title': 'Natural Language Q&A',
    // ... æ›´å¤šè‹±æ–‡ç¿»è¯‘
  },
  fr: {
    'app.title': 'Assistant de Recherche GenAI d\'Ottawa',
    'nav.home': 'Accueil',
    'nav.chat': 'Chat',
    'features.qa.title': 'Q&R en Langage Naturel',
    // ... æ›´å¤šæ³•æ–‡ç¿»è¯‘
  }
};

// ç¿»è¯‘å‡½æ•°å®ç°
const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
```

### è¯­è¨€åˆ‡æ¢åŠŸèƒ½
```typescript
// è¯­è¨€åˆ‡æ¢ç»„ä»¶
const LanguageToggle: React.FC<{
  current: 'en' | 'fr';
  onChange: (lang: 'en' | 'fr') => void;
}> = ({ current, onChange }) => {
  return (
    <div className="language-toggle" role="group" aria-label="è¯­è¨€é€‰æ‹©">
      <button
        className={current === 'en' ? 'active' : ''}
        onClick={() => onChange('en')}
        aria-pressed={current === 'en'}
      >
        EN
      </button>
      <button
        className={current === 'fr' ? 'active' : ''}
        onClick={() => onChange('fr')}
        aria-pressed={current === 'fr'}
      >
        FR
      </button>
    </div>
  );
};
```

## ğŸ”Œ APIæœåŠ¡æ¶æ„

### æ ‡å‡†APIæœåŠ¡ (api.ts)
```typescript
// æ ‡å‡†çš„RESTful APIè°ƒç”¨
class ApiService {
  private baseURL = process.env.REACT_APP_API_URL || 'http://localhost:8000';
  
  async get<T>(endpoint: string): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      headers: {
        'Content-Type': 'application/json',
        'Accept-Language': this.getCurrentLanguage(),
      },
    });
    
    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }
    
    return response.json();
  }
  
  async post<T>(endpoint: string, data: any): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept-Language': this.getCurrentLanguage(),
      },
      body: JSON.stringify(data),
    });
    
    return this.handleResponse<T>(response);
  }
  
  // æ–‡æ¡£ä¸Šä¼ 
  async uploadDocument(file: File, options?: {
    onProgress?: (progress: number) => void;
  }): Promise<DocumentResponse> {
    const formData = new FormData();
    formData.append('file', file);
    
    return this.uploadWithProgress('/documents/upload', formData, options);
  }
  
  // èŠå¤©æ¶ˆæ¯å‘é€
  async sendChatMessage(message: string): Promise<ChatResponse> {
    return this.post('/chat/send', { message });
  }
}

export const api = new ApiService();
```

### æ··åˆAPIæœåŠ¡ (hybridApi.ts)
```typescript
// æ”¯æŒMockæ•°æ®å’ŒçœŸå®APIçš„æ··åˆæœåŠ¡
class HybridApiService {
  private useMockData = process.env.REACT_APP_USE_MOCK === 'true';
  private apiService = new ApiService();
  
  async sendMessage(content: string): Promise<ChatMessage> {
    if (this.useMockData) {
      // ä½¿ç”¨Mockæ•°æ®è¿›è¡Œå¿«é€ŸåŸå‹å¼€å‘
      return this.generateMockResponse(content);
    } else {
      // è°ƒç”¨çœŸå®çš„åç«¯API
      return this.apiService.sendChatMessage(content);
    }
  }
  
  private generateMockResponse(input: string): ChatMessage {
    // æ™ºèƒ½Mockå“åº”ç”Ÿæˆ
    const mockResponses = {
      economic: "æ ¹æ®æ¸¥å¤ªåç»æµå‘å±•æ•°æ®ï¼Œ2023å¹´ç§‘æŠ€è¡Œä¸šå¢é•¿äº†15%...",
      investment: "æœ€æ–°çš„æŠ•èµ„è¶‹åŠ¿æ˜¾ç¤ºï¼Œæ¸…æ´æŠ€æœ¯é¢†åŸŸè·å¾—äº†æ˜¾è‘—å…³æ³¨...",
      default: "æ„Ÿè°¢æ‚¨çš„é—®é¢˜ã€‚åŸºäºå¯ç”¨æ•°æ®ï¼Œæˆ‘å¯ä»¥ä¸ºæ‚¨æä¾›ä»¥ä¸‹åˆ†æ..."
    };
    
    const responseType = this.categorizeInput(input);
    return {
      id: Date.now().toString(),
      content: mockResponses[responseType] || mockResponses.default,
      type: 'assistant',
      timestamp: new Date(),
      metadata: {
        charts: this.generateMockCharts(responseType),
        sources: this.generateMockSources(responseType)
      }
    };
  }
}

export const hybridApi = new HybridApiService();
```

## ğŸ¨ æ ·å¼æ¶æ„

### CSSæ¨¡å—åŒ–ç­–ç•¥
æ¯ä¸ªç»„ä»¶éƒ½æœ‰å¯¹åº”çš„CSSæ–‡ä»¶ï¼Œé‡‡ç”¨BEMå‘½åè§„èŒƒï¼š

```css
/* HomePage.css */
.home-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.home__hero {
  text-align: center;
  margin-bottom: 4rem;
}

.home__hero-title {
  font-size: 3rem;
  font-weight: 700;
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.home__features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-bottom: 4rem;
}

.home__feature-card {
  background: var(--card-background);
  border-radius: 12px;
  padding: 2rem;
  box-shadow: var(--card-shadow);
  transition: transform 0.2s ease;
}

.home__feature-card:hover {
  transform: translateY(-4px);
}
```

### å“åº”å¼è®¾è®¡
```css
/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  .home__hero-title {
    font-size: 2rem;
  }
  
  .home__features {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .navbar__menu {
    display: none;
  }
  
  .navbar__mobile-toggle {
    display: block;
  }
}

/* å¤§å±å¹•ä¼˜åŒ– */
@media (min-width: 1440px) {
  .home-container {
    max-width: 1400px;
  }
  
  .home__features {
    grid-template-columns: repeat(4, 1fr);
  }
}
```

## â™¿ æ— éšœç¢è®¾è®¡ (WCAG 2.1)

### è¯­ä¹‰åŒ–HTMLç»“æ„
```typescript
// æ­£ç¡®ä½¿ç”¨ARIAæ ‡ç­¾å’Œè¯­ä¹‰åŒ–å…ƒç´ 
const ChatPage: React.FC = () => {
  return (
    <main role="main" aria-label="èŠå¤©ç•Œé¢">
      <section aria-label="æ¶ˆæ¯å†å²">
        <h2 className="sr-only">èŠå¤©æ¶ˆæ¯</h2>
        <div 
          role="log" 
          aria-live="polite" 
          aria-label="èŠå¤©æ¶ˆæ¯åˆ—è¡¨"
          className="messages-container"
        >
          {messages.map(message => (
            <div 
              key={message.id}
              role="article"
              aria-label={`${message.type === 'user' ? 'ç”¨æˆ·' : 'åŠ©æ‰‹'}æ¶ˆæ¯`}
              className={`message message--${message.type}`}
            >
              {message.content}
            </div>
          ))}
        </div>
      </section>
      
      <section aria-label="æ¶ˆæ¯è¾“å…¥">
        <form onSubmit={handleSubmit} role="form">
          <label htmlFor="message-input" className="sr-only">
            è¾“å…¥æ‚¨çš„é—®é¢˜
          </label>
          <input
            id="message-input"
            type="text"
            value={inputValue}
            onChange={(e) => setInputValue(e.target.value)}
            placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..."
            aria-describedby="input-help"
            required
          />
          <div id="input-help" className="sr-only">
            æŒ‰å›è½¦é”®å‘é€æ¶ˆæ¯ï¼Œæ”¯æŒè‹±æ–‡å’Œæ³•æ–‡
          </div>
          <button 
            type="submit" 
            aria-label="å‘é€æ¶ˆæ¯"
            disabled={isLoading}
          >
            {isLoading ? 'å‘é€ä¸­...' : 'å‘é€'}
          </button>
        </form>
      </section>
    </main>
  );
};
```

### é”®ç›˜å¯¼èˆªæ”¯æŒ
```typescript
// é”®ç›˜å¿«æ·é”®æ”¯æŒ
const useKeyboardShortcuts = () => {
  useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      // Ctrl/Cmd + K æ‰“å¼€æœç´¢
      if ((event.ctrlKey || event.metaKey) && event.key === 'k') {
        event.preventDefault();
        // æ‰“å¼€æœç´¢å¯¹è¯æ¡†
      }
      
      // ESC å…³é—­å¯¹è¯æ¡†
      if (event.key === 'Escape') {
        // å…³é—­å½“å‰æ¨¡æ€æ¡†
      }
      
      // Tab å¯¼èˆªæ”¯æŒ
      if (event.key === 'Tab') {
        // ç¡®ä¿ç„¦ç‚¹å¯è§
        document.body.classList.add('keyboard-navigation');
      }
    };
    
    document.addEventListener('keydown', handleKeyDown);
    
    return () => {
      document.removeEventListener('keydown', handleKeyDown);
    };
  }, []);
};
```

## ğŸ“± å“åº”å¼æ¶æ„

### ç§»åŠ¨ä¼˜å…ˆè®¾è®¡
```typescript
// å“åº”å¼Hook
const useResponsive = () => {
  const [screenSize, setScreenSize] = useState({
    width: window.innerWidth,
    height: window.innerHeight,
  });
  
  const [device, setDevice] = useState<'mobile' | 'tablet' | 'desktop'>('desktop');
  
  useEffect(() => {
    const handleResize = () => {
      const width = window.innerWidth;
      setScreenSize({
        width,
        height: window.innerHeight,
      });
      
      if (width < 768) {
        setDevice('mobile');
      } else if (width < 1024) {
        setDevice('tablet');
      } else {
        setDevice('desktop');
      }
    };
    
    window.addEventListener('resize', handleResize);
    handleResize(); // åˆå§‹åŒ–
    
    return () => window.removeEventListener('resize', handleResize);
  }, []);
  
  return { screenSize, device };
};
```

### è‡ªé€‚åº”ç»„ä»¶
```typescript
// å“åº”å¼å¯¼èˆªç»„ä»¶
const ResponsiveNavbar: React.FC = () => {
  const { device } = useResponsive();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  
  if (device === 'mobile') {
    return (
      <MobileNavbar 
        isOpen={mobileMenuOpen}
        onToggle={setMobileMenuOpen}
      />
    );
  }
  
  return <DesktopNavbar />;
};
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ä»£ç åˆ†å‰² (Code Splitting)
```typescript
// è·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½
const HomePage = lazy(() => import('./pages/HomePage'));
const ChatPage = lazy(() => import('./pages/ChatPage'));
const DocumentUploadPage = lazy(() => import('./pages/DocumentUploadPage'));

const App: React.FC = () => {
  return (
    <Router>
      <Suspense fallback={<LoadingSpinner />}>
        <Routes>
          <Route path="/" element={<HomePage />} />
          <Route path="/chat" element={<ChatPage />} />
          <Route path="/upload" element={<DocumentUploadPage />} />
        </Routes>
      </Suspense>
    </Router>
  );
};
```

### 2. ç»„ä»¶ä¼˜åŒ–
```typescript
// React.memo ä¼˜åŒ–é‡æ¸²æŸ“
const MessageItem = React.memo<{
  message: ChatMessage;
  onEdit?: (id: string) => void;
}>(({ message, onEdit }) => {
  return (
    <div className="message-item">
      <div className="message-content">{message.content}</div>
      {onEdit && (
        <button onClick={() => onEdit(message.id)}>
          ç¼–è¾‘
        </button>
      )}
    </div>
  );
});

// useCallback ä¼˜åŒ–å‡½æ•°å¼•ç”¨
const ChatPage: React.FC = () => {
  const [messages, setMessages] = useState<ChatMessage[]>([]);
  
  const handleSendMessage = useCallback(async (content: string) => {
    const newMessage = await api.sendMessage(content);
    setMessages(prev => [...prev, newMessage]);
  }, []);
  
  const handleEditMessage = useCallback((id: string) => {
    // ç¼–è¾‘æ¶ˆæ¯é€»è¾‘
  }, []);
  
  return (
    <div>
      {messages.map(message => (
        <MessageItem
          key={message.id}
          message={message}
          onEdit={handleEditMessage}
        />
      ))}
    </div>
  );
};
```

### 3. è™šæ‹Ÿæ»šåŠ¨
```typescript
// é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–
const VirtualizedMessageList: React.FC<{
  messages: ChatMessage[];
}> = ({ messages }) => {
  const [visibleRange, setVisibleRange] = useState({ start: 0, end: 50 });
  const containerRef = useRef<HTMLDivElement>(null);
  
  const handleScroll = useCallback(() => {
    if (!containerRef.current) return;
    
    const { scrollTop, clientHeight } = containerRef.current;
    const itemHeight = 100; // é¢„ä¼°æ¶ˆæ¯é«˜åº¦
    
    const start = Math.floor(scrollTop / itemHeight);
    const end = Math.min(
      start + Math.ceil(clientHeight / itemHeight) + 5,
      messages.length
    );
    
    setVisibleRange({ start, end });
  }, [messages.length]);
  
  const visibleMessages = messages.slice(visibleRange.start, visibleRange.end);
  
  return (
    <div
      ref={containerRef}
      className="message-list"
      onScroll={handleScroll}
      style={{ height: '400px', overflowY: 'auto' }}
    >
      <div style={{ height: visibleRange.start * 100 }} />
      {visibleMessages.map(message => (
        <MessageItem key={message.id} message={message} />
      ))}
      <div style={{ height: (messages.length - visibleRange.end) * 100 }} />
    </div>
  );
};
```

## ğŸ§ª æµ‹è¯•æ¶æ„

### ç»„ä»¶æµ‹è¯•ç­–ç•¥
```typescript
// HomePage.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { BrowserRouter } from 'react-router-dom';
import HomePage from './HomePage';
import { LanguageProvider } from '../contexts/LanguageContext';

const renderWithProviders = (component: React.ReactElement) => {
  return render(
    <BrowserRouter>
      <LanguageProvider>
        {component}
      </LanguageProvider>
    </BrowserRouter>
  );
};

describe('HomePage', () => {
  test('renders welcome message', () => {
    renderWithProviders(<HomePage />);
    expect(screen.getByText(/Ottawa Economic Development/)).toBeInTheDocument();
  });
  
  test('language switching works', () => {
    renderWithProviders(<HomePage />);
    
    const frenchButton = screen.getByText('FR');
    fireEvent.click(frenchButton);
    
    expect(screen.getByText(/DÃ©veloppement Ã‰conomique/)).toBeInTheDocument();
  });
  
  test('navigation links are accessible', () => {
    renderWithProviders(<HomePage />);
    
    const chatLink = screen.getByRole('link', { name: /chat/i });
    expect(chatLink).toHaveAttribute('href', '/chat');
  });
});
```

### APIæœåŠ¡æµ‹è¯•
```typescript
// api.test.ts
import { api } from './api';

// Mock fetch
global.fetch = jest.fn();

describe('ApiService', () => {
  beforeEach(() => {
    (fetch as jest.Mock).mockClear();
  });
  
  test('sends chat message correctly', async () => {
    const mockResponse = {
      id: '1',
      content: 'Test response',
      type: 'assistant'
    };
    
    (fetch as jest.Mock).mockResolvedValueOnce({
      ok: true,
      json: async () => mockResponse,
    });
    
    const result = await api.sendChatMessage('Hello');
    
    expect(fetch).toHaveBeenCalledWith(
      'http://localhost:8000/chat/send',
      expect.objectContaining({
        method: 'POST',
        body: JSON.stringify({ message: 'Hello' }),
      })
    );
    
    expect(result).toEqual(mockResponse);
  });
});
```

## ğŸ”§ å¼€å‘å·¥å…·é…ç½®

### TypeScripté…ç½®
```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "es6"],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "baseUrl": "src",
    "paths": {
      "@/*": ["*"],
      "@/components/*": ["components/*"],
      "@/pages/*": ["pages/*"],
      "@/services/*": ["services/*"]
    }
  },
  "include": ["src"],
  "exclude": ["node_modules"]
}
```

### Dockeré…ç½®
```dockerfile
# Dockerfile
FROM node:18-alpine as build

WORKDIR /app

# Copy package files
COPY package*.json ./
RUN npm ci --only=production

# Copy source code
COPY . .

# Build application
RUN npm run build

# Production stage
FROM nginx:alpine
COPY --from=build /app/build /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

### 1. ğŸ§© æ¨¡å—åŒ–è®¾è®¡
- **ç»„ä»¶å¤ç”¨æ€§é«˜**: é€šç”¨ç»„ä»¶å¯åœ¨å¤šä¸ªé¡µé¢ä½¿ç”¨
- **ä»£ç å¯ç»´æŠ¤æ€§å¼º**: æ¸…æ™°çš„æ–‡ä»¶ç»“æ„å’Œå‘½åè§„èŒƒ
- **åŠŸèƒ½æ‰©å±•ä¾¿åˆ©**: æ–°åŠŸèƒ½å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•

### 2. ğŸŒ å›½é™…åŒ–æ”¯æŒ
- **å®Œæ•´åŒè¯­æ”¯æŒ**: è‹±è¯­å’Œæ³•è¯­æ— ç¼åˆ‡æ¢
- **åŠ¨æ€è¯­è¨€åŠ è½½**: æŒ‰éœ€åŠ è½½ç¿»è¯‘æ–‡ä»¶
- **æ–‡åŒ–æœ¬åœ°åŒ–**: æ”¯æŒä¸åŒåœ°åŒºçš„æ ¼å¼å·®å¼‚

### 3. â™¿ æ— éšœç¢ä¼˜å…ˆ
- **WCAG 2.1å…¼å®¹**: ç¬¦åˆæœ€æ–°æ— éšœç¢æ ‡å‡†
- **é”®ç›˜å¯¼èˆª**: å®Œæ•´çš„é”®ç›˜æ“ä½œæ”¯æŒ
- **å±å¹•é˜…è¯»å™¨å‹å¥½**: æ­£ç¡®çš„ARIAæ ‡ç­¾ä½¿ç”¨

### 4. ğŸ“± å“åº”å¼ä¼˜åŒ–
- **ç§»åŠ¨ä¼˜å…ˆ**: ä»å°å±å¹•å¼€å§‹è®¾è®¡
- **è‡ªé€‚åº”å¸ƒå±€**: é€‚åº”å„ç§è®¾å¤‡å°ºå¯¸
- **è§¦æ‘¸å‹å¥½**: ä¼˜åŒ–ç§»åŠ¨è®¾å¤‡äº¤äº’

### 5. âš¡ æ€§èƒ½ä¼˜åŒ–
- **ä»£ç åˆ†å‰²**: å‡å°‘åˆå§‹åŠ è½½æ—¶é—´
- **æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½ç»„ä»¶å’Œèµ„æº
- **è™šæ‹Ÿæ»šåŠ¨**: å¤„ç†å¤§é‡æ•°æ®å±•ç¤º

## ğŸš€ è¿è¡Œå’Œéƒ¨ç½²

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
cd frontend
npm install
npm start
```

### ç”Ÿäº§æ„å»º
```bash
npm run build
```

### Dockeréƒ¨ç½²
```bash
docker build -t ottawa-genai-frontend .
docker run -p 80:80 ottawa-genai-frontend
```

## ğŸ“ å¼€å‘æœ€ä½³å®è·µ

### 1. ç»„ä»¶å¼€å‘è§„èŒƒ
- ä½¿ç”¨TypeScriptè¿›è¡Œç±»å‹å®šä¹‰
- éµå¾ªReact Hooksæœ€ä½³å®è·µ
- å®ç°é€‚å½“çš„é”™è¯¯è¾¹ç•Œ
- ç¼–å†™å•å…ƒæµ‹è¯•

### 2. æ ·å¼è§„èŒƒ
- ä½¿ç”¨CSSå˜é‡å®šä¹‰ä¸»é¢˜
- éµå¾ªBEMå‘½åè§„èŒƒ
- å®ç°å“åº”å¼è®¾è®¡
- ä¼˜åŒ–CSSæ€§èƒ½

### 3. çŠ¶æ€ç®¡ç†
- åˆç†ä½¿ç”¨Context API
- é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- å®ç°é€‚å½“çš„ç¼“å­˜ç­–ç•¥
- å¤„ç†å¼‚æ­¥çŠ¶æ€

### 4. æµ‹è¯•ç­–ç•¥
- ç¼–å†™ç»„ä»¶å•å…ƒæµ‹è¯•
- å®ç°é›†æˆæµ‹è¯•
- è¿›è¡Œæ— éšœç¢æµ‹è¯•
- æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–

## ğŸ”„ æœªæ¥æ‰©å±•è®¡åˆ’

### 1. PWAæ”¯æŒ
- ç¦»çº¿åŠŸèƒ½æ”¯æŒ
- æ¶ˆæ¯æ¨é€
- å®‰è£…åˆ°ä¸»å±å¹•

### 2. é«˜çº§åŠŸèƒ½
- å®æ—¶åä½œ
- è¯­éŸ³è¾“å…¥
- é«˜çº§å›¾è¡¨ç»„ä»¶
- æ•°æ®å¯è§†åŒ–

### 3. æŠ€æœ¯å‡çº§
- React 18ç‰¹æ€§å……åˆ†åˆ©ç”¨
- æ–°çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
- æ›´å¥½çš„æ„å»ºå·¥å…·
- æ€§èƒ½ç›‘æ§é›†æˆ

è¿™ä¸ªå‰ç«¯æ¶æ„ç¡®ä¿äº†åº”ç”¨çš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§å’Œç”¨æˆ·ä½“éªŒçš„ä¼˜åŒ–ï¼ŒåŒæ—¶æ»¡è¶³äº†æ¸¥å¤ªåå¸‚æ”¿åºœå¯¹åŒè¯­æ”¯æŒå’Œæ— éšœç¢è®¿é—®çš„è¦æ±‚ã€‚ 